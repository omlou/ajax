!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ajax=t()}(this,(function(){"use strict";function e(e,t=!1){let n=[];for(let t in e)null!==e[t]&&void 0!==e[t]||(e[t]=""),n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));let o=n.join("&");return o&&t?"?"+o:o}var t,n;!function(e){e.DF="",e.AB="arraybuffer",e.Blob="blob",e.DOC="document",e.JSON="json",e.TXT="text"}(t||(t={})),function(e){e.json="application/json;charset=UTF-8",e.urlencoded="application/x-www-form-urlencoded;charset=UTF-8",e.formData="multipart/form-data",e.text="text/plain;charset=UTF-8",e.xml="application/xml;charset=UTF-8",e.stream="application/octet-stream"}(n||(n={}));const o=new Set(["[object String]","[object FormData]","[object Blob]","[object ArrayBuffer]","[object URLSearchParams]","[object Null]","[object Undefined]"]),r=new Set(["GET","DELETE","HEAD","OPTIONS","TRACE"]);function s(t,n){if(!n)return"";let o="string"==typeof n?n:e(n);return o?-1!==t.indexOf("?")?"&"+o:"?"+o:""}function a(t,s,a,d){return r.has(d)?null:(o.has(Object.prototype.toString.call(t))||(s?s.includes("application/json")?t=JSON.stringify(t):s.includes("application/x-www-form-urlencoded")&&(t=e(t)):(a.setRequestHeader("Content-Type",n.json),t=JSON.stringify(t))),t)}function d(e){const t={};if(null!==e){const n=e.trim().split(/[\r\n]+/);for(const e of n){const n=e.split(": ");t[n[0]]=n[1]}}return t}const i=function(e){return new Promise((function(n,o){const r=new XMLHttpRequest;r.addEventListener("load",(t=>{const s=d(r.getAllResponseHeaders()),a={request:r,config:e,headers:s,response:r.response,status:r.status,statusText:r.statusText};var i;(i=r.status)>=200&&i<=299?n(a):o(a)})),r.addEventListener("error",(e=>{o(e)})),r.addEventListener("timeout",(e=>{o(e)})),e.uploadProgress&&(r.upload.addEventListener("loadstart",(t=>{e.uploadProgress(t)})),r.upload.addEventListener("progress",(t=>{e.uploadProgress(t)})),r.upload.addEventListener("load",(t=>{e.uploadProgress(t)})),r.upload.addEventListener("loadend",(t=>{e.uploadProgress(t)})),r.upload.addEventListener("error",(t=>{e.uploadProgress(t)}))),e.downloadProgress&&(r.addEventListener("loadstart",(t=>{e.downloadProgress(t)})),r.addEventListener("progress",(t=>{e.downloadProgress(t)})),r.addEventListener("loadend",(t=>{e.downloadProgress(t)})));let{method:i,url:l,params:u,data:p,headers:c,timeout:f,responseType:g,withCredentials:m}=e;if(i=i?i.toUpperCase():"GET",u&&(l+=s(l,u)),r.open(i,l,!0),void 0!==m&&(r.withCredentials=m),r.responseType=g||t.JSON,c){let e="";for(const t in c){let n=c[t];n=null==n?"":String(n),r.setRequestHeader(t,n);"content-type"===t.toLowerCase()&&(e=n)}p=a(p,e,r,i)}else p=a(p,"",r,i);r.timeout=f||0,r.send(p)}))};return Object.assign(i,{queryString:e,getUrlParam:s,getHeaders:d,ContentType:n}),i}));
//# sourceMappingURL=ajax.min.js.map
